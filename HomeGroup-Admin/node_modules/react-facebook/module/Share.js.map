{"version":3,"sources":["../src/Share.jsx"],"names":["React","Component","forwardRef","getCurrentHref","clearUndefinedProperties","Process","Share","handleClick","evn","preventDefault","handleProcess","props","api","href","display","appId","getAppId","hashtag","redirectURI","quote","mobileIframe","ui","method","app_id","redirect_uri","mobile_iframe","render","children","loading","error","data","defaultProps","undefined","ref"],"mappings":";;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,OAAOC,wBAAP,MAAqC,kCAArC;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAiBA,MAAMC,KAAN,SAAoBL,SAApB,CAAqC;AAAA;AAAA;;AAAA,gDAWnCM,WAXmC;AAAA,mCAWrB,WAAOC,GAAP,EAAe;AAC3BA,YAAIC,cAAJ;;AAEA,cAAM,EAAEC,aAAF,KAAoB,MAAKC,KAA/B;;AAEA,eAAOD;AAAA,wCAAc,WAAOE,GAAP,EAAe;AAClC,kBAAM;AACJC,qBAAOV,gBADH;AAEJW,qBAFI;AAGJC,sBAAQH,IAAII,QAAJ,EAHJ;AAIJC,qBAJI;AAKJC,yBALI;AAMJC,mBANI;AAOJC;AAPI,gBAQF,MAAKT,KART;;AAUA,mBAAOC,IAAIS,EAAJ,CAAOjB,yBAAyB;AACrCkB,sBAAQ,OAD6B;AAErCT,kBAFqC;AAGrCC,qBAHqC;AAIrCS,sBAAQR,KAJ6B;AAKrCE,qBALqC;AAMrCO,4BAAcN,WANuB;AAOrCC,mBAPqC;AAQrCM,6BAAeL;AARsB,aAAzB,CAAP,CAAP;AAUD,WArBM;;AAAA;AAAA;AAAA;AAAA,aAAP;AAsBD,OAtCkC;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwCnCM,WAAS;AACP,UAAM;AACJC,cADI,EACMC,OADN,EACeC,KADf,EACsBC;AADtB,QAEF,KAAKnB,KAFT;;AAIA,WAAOgB,SAAS;AACdC,aADc;AAEdrB,mBAAa,KAAKA,WAFJ;AAGdsB,WAHc;AAIdC;AAJc,KAAT,CAAP;AAMD;AAnDkC;;AAA/BxB,K,CACGyB,Y,GAAe;AACpBlB,QAAMmB,SADc;AAEpBf,WAASe,SAFW;AAGpBb,SAAOa,SAHa;AAIpBZ,gBAAcY,SAJM;AAKpBlB,WAASkB,SALW;AAMpBjB,SAAOiB,SANa;AAOpBd,eAAac;AAPO,C;AAqDxB,eAAe9B,WAAW,CAACS,KAAD,EAAQsB,GAAR,KACxB;AAAC,SAAD;AAAA;AACG,GAAC;AACAL,WADA,EACSlB,aADT,EACwBoB,IADxB,EAC8BD;AAD9B,GAAD,KAGC,oBAAC,KAAD,eACMlB,KADN;AAEE,aAASiB,OAFX;AAGE,mBAAelB,aAHjB;AAIE,UAAMoB,IAJR;AAKE,WAAOD,KALT;AAME,SAAKI;AANP;AAJJ,CADa,CAAf","file":"Share.js","sourcesContent":["// @flow\nimport React, { Component, forwardRef } from 'react';\nimport getCurrentHref from './utils/getCurrentHref';\nimport clearUndefinedProperties from './utils/clearUndefinedProperties';\nimport Process from './Process';\n\ntype Props = {\n  children: Function,\n  handleProcess: Function,\n  loading: boolean,\n  data: any,\n  error: Error,\n  href?: string,\n  hashtag?: string,\n  quote?: string,\n  mobileIframe?: boolean,\n  display?: string,\n  appId?: string,\n  redirectURI?: string,\n};\n\nclass Share extends Component<Props> {\n  static defaultProps = {\n    href: undefined,\n    hashtag: undefined,\n    quote: undefined,\n    mobileIframe: undefined,\n    display: undefined,\n    appId: undefined,\n    redirectURI: undefined,\n  };\n\n  handleClick = async (evn) => {\n    evn.preventDefault();\n\n    const { handleProcess } = this.props;\n\n    return handleProcess(async (api) => {\n      const {\n        href = getCurrentHref(),\n        display,\n        appId = api.getAppId(),\n        hashtag,\n        redirectURI,\n        quote,\n        mobileIframe,\n      } = this.props;\n\n      return api.ui(clearUndefinedProperties({\n        method: 'share',\n        href,\n        display,\n        app_id: appId,\n        hashtag,\n        redirect_uri: redirectURI,\n        quote,\n        mobile_iframe: mobileIframe,\n      }));\n    });\n  }\n\n  render() {\n    const {\n      children, loading, error, data,\n    } = this.props;\n\n    return children({\n      loading,\n      handleClick: this.handleClick,\n      error,\n      data,\n    });\n  }\n}\n\nexport default forwardRef((props, ref) => (\n  <Process>\n    {({\n      loading, handleProcess, data, error,\n    }) => (\n      <Share\n        {...props}\n        loading={loading}\n        handleProcess={handleProcess}\n        data={data}\n        error={error}\n        ref={ref}\n      />\n    )}\n  </Process>\n));\n"]}